# ===========================================
# CRITICAL BACKEND SECRETS (REQUIRED)
# ===========================================
# These MUST NEVER be committed to git or exposed to frontend
# Server will refuse to start if these are missing

# Supabase Backend Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# IMPORTANT: Service role keys must NEVER use VITE_ prefix!
# VITE_ variables are exposed in frontend bundles

# ===========================================
# FRONTEND PUBLIC KEYS (Safe to Expose)
# ===========================================
# These are safe to include in frontend bundles
# VITE_ prefix indicates frontend accessibility

# Supabase Frontend Configuration
VITE_SUPABASE_PUBLISHABLE_KEY=your-anon-key-here
VITE_SUPABASE_PROJECT_ID=your-project-id

# ===========================================
# OPTIONAL - OAuth Configuration
# ===========================================
# Required ONLY if using Google Drive integration

# Google OAuth (Backend Only - NO VITE_ prefix!)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/oauth/google/callback

# OAuth Token Encryption (32 bytes = 64 hex characters)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
OAUTH_ENCRYPTION_KEY=your-64-character-hex-key-here

# ===========================================
# OPTIONAL - AI Provider Keys
# ===========================================
# Configure based on which AI providers you use
# All are backend-only (NO VITE_ prefix)

# OpenAI
# OPENAI_API_KEY=sk-proj-...

# Anthropic Claude
# ANTHROPIC_API_KEY=sk-ant-...

# Google Gemini
# GEMINI_API_KEY=...
# GOOGLE_AI_STUDIO_KEY=...

# DeepSeek
# DEEPSEEK_API_KEY=...

# OpenRouter
# OPENROUTER_API_KEY=sk-or-v1-...

# ===========================================
# OPTIONAL - Media Generation Services
# ===========================================

# ElevenLabs (Voice)
# ELEVENLABS_API_KEY=sk_...

# Fal.ai (Video)
# FAL_API_KEY=...

# Runway (Video)
# RUNWAY_API_KEY=...

# Kling AI (Video)
# KLING_API_KEY=...
# KLING_ACCESS_KEY=...
# KLING_SECRET_KEY=...

# HeyGen (Avatar)
# HEYGEN_API_KEY=...

# ===========================================
# OPTIONAL - Backend Configuration
# ===========================================

# Backend provider: supabase (default), rest, local
VITE_BACKEND_PROVIDER=supabase

# REST API URL (only if using rest provider)
VITE_REST_API_URL=http://localhost:3000/api

# VPS RenderFlow API (Set this to your VPS IP:3001)
VITE_RENDER_FLOW_API_URL=http://localhost:3001/render

# n8n Global Webhook URL (optional)
# VITE_N8N_WEBHOOK_URL=https://your-n8n.app.n8n.cloud/webhook/flowscale

# ===========================================
# OPTIONAL - Feature Flags
# ===========================================

# Enable local/demo mode (uses localStorage instead of backend)
VITE_ENABLE_LOCAL_MODE=false

# Enable mock data for development
VITE_ENABLE_MOCK_DATA=false

# Enable debug logging
VITE_DEBUG=false

# Docker mode flag
VITE_DOCKER_MODE=false

# ===========================================
# SECURITY NOTES
# ===========================================
# 
# CRITICAL RULES:
# 1. NEVER commit .env to git (protected by .gitignore)
# 2. Service role keys must NEVER use VITE_ prefix
# 3. Only VITE_ variables are safe for frontend bundles
# 4. Server validates ENV on startup and fails if secrets missing
#
# For Lovable Cloud deployments:
# - Add ONLY VITE_* variables to Lovable project settings
# - Service role key goes in Supabase project settings (not Lovable)
# - Edge functions access secrets via Deno.env server-side
#
# For VPS/Self-Hosted deployments:
# - Set .env file permissions: chmod 600 .env
# - Keep .env outside Docker images (use volumes or env injection)
# - Validate with: node server/env-validator.js
#
# See also:
# - SECURITY_ARCHITECTURE.md (comprehensive security guide)
# - ENV_VALIDATION_CHECKLIST.md (deployment checklist)
